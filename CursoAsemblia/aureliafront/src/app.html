<template>
  <require from="bootstrap/dist/css/bootstrap.min.css"></require>
  <require from="resources/value-converters/formatDateValueConverter"></require>
  <require from="resources/value-converters/formatNumberValueConverter"></require>

  <div class="navbar navbar-expand-md navbar-dark bg-dark">
    <a class="navbar-brand" href="#">Proyectos boletus</a>
    <button class="navbar-toggler" type="button" data-target="#navbar" data-toggle="collapse">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="navbar-nav">
        <li class="nav-item active">
          <a class="nav-link" href="#">Home</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#">PÃ¡gina 2</a>
        </li>
      </ul>
    </div>
  </div>
  <div class="container">
    <message title.bind="welcomeTitle" cursive.bind="true"></message>

    <h3>Se han cargado ${proyectos.length}</h3>

    <div class="row">
      <input type="text" value.bind="filter & debounce:850"></input>
      <button type="button" class="btn btn-default" click.trigger="filtrar()">Filtrar</button>
    </div>
    
    <table class="table">
      <thead>
        <tr>
          <th scope="col">Id</th>
          <th scope="col">Name</th>
          <th scope="col">Customer Code</th>
          <th scope="col">Work Start date</th>
          <th scope="col">Tender Budget</th>
        </tr>
      </thead>
      <tbody>
        <tr repeat.for="project of proyectosFiltrados">
          <td>
            <b>${project.id}</b>
          </td>
          <td>${project.name}</td>
          <td>${project.customerCode}</td>
          <td>${project.workStartDate | formatDate:'DD/MM/YYYY HH:mm:SS'}</td>
          <td>${project.tenderBudget | formatNumber:'0.00'}</td>
        </tr>
      </tbody>
    </table>
  </div>
</template>
